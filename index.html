<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Birthday Surprise</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
    <style>
        :root {
            --pixel-pink: #ff8da1;
            --pixel-blue: #5bc0eb;
            --pixel-dark: #2d3436;
            --pixel-white: #ffffff;
            --pixel-yellow: #ffeaa7;
            --cake-base: #634731;
            --cake-cream: #fab1a0;
            --flame: #fdcb6e;
            --sunflower-yellow: #f1c40f;
            --rose-red: #e74c3c;
        }

        body {
            font-family: 'VT323', monospace;
            background-color: var(--pixel-yellow);
            background-image: radial-gradient(var(--pixel-pink) 1px, transparent 1px);
            background-size: 20px 20px;
            color: var(--pixel-dark);
            overflow-x: hidden;
            image-rendering: pixelated;
            user-select: none;
        }

        .pixel-font { font-family: 'Press Start 2P', cursive; }

        .pixel-border {
            background: var(--pixel-white);
            border: 4px solid var(--pixel-dark);
            box-shadow: 8px 8px 0px rgba(0,0,0,0.1);
        }

        .pixel-input {
            border: 4px solid var(--pixel-dark);
            padding: 8px;
            font-family: 'VT323', monospace;
            font-size: 20px;
            outline: none;
            width: 100%;
            margin-bottom: 10px;
        }

        .pixel-btn-action {
            background: var(--pixel-blue);
            border: 4px solid var(--pixel-dark);
            color: white;
            padding: 10px;
            width: 100%;
            cursor: pointer;
            box-shadow: 4px 4px 0px var(--pixel-dark);
        }

        .pixel-btn-action:active {
            box-shadow: 0px 0px 0px var(--pixel-dark);
            transform: translate(4px, 4px);
        }

        /* Efek Percikan Klik */
        .click-spark {
            position: fixed;
            width: 20px;
            height: 20px;
            border: 4px solid var(--pixel-dark);
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            animation: clickEffectAnim 0.4s steps(4) forwards;
        }

        @keyframes clickEffectAnim {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(2.5); opacity: 0; }
        }

        /* Kotak Kado Pixel */
        .gift-container {
            position: relative;
            width: 120px;
            height: 120px;
        }

        .gift-box {
            width: 120px;
            height: 100px;
            background: #ff4d6d;
            border: 6px solid var(--pixel-dark);
            position: absolute;
            bottom: 0;
            cursor: pointer;
            z-index: 5;
        }

        .gift-box::before {
            content: '';
            position: absolute;
            width: 20px;
            height: 100%;
            background: #ffb3c1;
            left: 50%;
            transform: translateX(-50%);
            border-left: 4px solid var(--pixel-dark);
            border-right: 4px solid var(--pixel-dark);
        }

        .gift-lid {
            width: 132px;
            height: 30px;
            background: #ff4d6d;
            border: 6px solid var(--pixel-dark);
            position: absolute;
            top: -15px;
            left: -6px;
            z-index: 10;
            transition: all 0.5s steps(4);
        }

        .gift-lid::before {
            content: '';
            position: absolute;
            width: 24px;
            height: 100%;
            background: #ffb3c1;
            left: 50%;
            transform: translateX(-50%);
            border-left: 4px solid var(--pixel-dark);
            border-right: 4px solid var(--pixel-dark);
        }

        .gift-bow {
            position: absolute;
            top: -42px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 30px;
            z-index: 15;
            transition: all 0.5s steps(4);
        }

        .gift-bow::before, .gift-bow::after {
            content: '';
            position: absolute;
            width: 25px;
            height: 25px;
            background: #ffb3c1;
            border: 4px solid var(--pixel-dark);
            top: 5px;
        }

        .gift-bow::before { left: 0; transform: rotate(-15deg); }
        .gift-bow::after { right: 0; transform: rotate(15deg); }

        .lid-open {
            animation: lidPop 0.8s steps(5) forwards;
        }

        .bow-fly {
            animation: bowFly 0.8s steps(5) forwards;
        }

        @keyframes lidPop {
            0% { transform: translateY(0) rotate(0); opacity: 1; }
            50% { transform: translateY(-60px) rotate(-15deg); opacity: 1; }
            100% { transform: translateY(-120px) rotate(-30deg); opacity: 0; }
        }

        @keyframes bowFly {
            0% { transform: translateX(-50%) translateY(0) rotate(0); opacity: 1; }
            100% { transform: translateX(-50%) translateY(-150px) rotate(45deg); opacity: 0; }
        }

        /* Bunga Pixel */
        .sunflower {
            position: absolute;
            font-size: 40px;
            animation: sway 3s ease-in-out infinite;
        }

        .rose {
            position: absolute;
            font-size: 35px;
            animation: sway 2.5s ease-in-out infinite reverse;
        }

        @keyframes sway {
            0%, 100% { transform: rotate(-5deg) translateY(0); }
            50% { transform: rotate(5deg) translateY(-10px); }
        }

        /* Animasi Konstruksi Kue */
        .cake-layer {
            width: 100%;
            height: 0;
            transition: height 0.8s steps(5);
            border: 4px solid var(--pixel-dark);
            border-bottom: none;
        }

        .layer-1 { background: var(--cake-base); width: 180px; margin: 0 auto; }
        .layer-2 { background: #ff7675; width: 140px; margin: 0 auto; }
        .layer-3 { background: #ffffff; width: 100px; margin: 0 auto; }

        .candle {
            width: 12px;
            height: 0;
            background: #ffeaa7;
            margin: 0 auto;
            border: 2px solid var(--pixel-dark);
            transition: height 0.5s steps(3);
            position: relative;
        }

        .flame {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 10px;
            height: 12px;
            background: var(--flame);
            border: 2px solid var(--pixel-dark);
            display: none;
            animation: flicker 0.2s steps(2) infinite;
        }

        @keyframes flicker {
            0% { transform: translateX(-50%) scale(1); background: #fab1a0; }
            100% { transform: translateX(-50%) scale(1.2); background: #fdcb6e; }
        }

        .pixel-heart {
            position: fixed;
            pointer-events: none;
            z-index: 10;
            font-size: 24px;
            animation: pixelFloat 5s steps(10) forwards;
        }

        @keyframes pixelFloat {
            0% { transform: translateY(110vh); opacity: 0; }
            10% { opacity: 1; }
            100% { transform: translateY(-20vh) translateX(30px); opacity: 0; }
        }

        .message-fade-in {
            animation: fadeInUp 1.2s cubic-bezier(0.19, 1, 0.22, 1) forwards;
        }

        @keyframes fadeInUp {
            0% { opacity: 0; transform: translateY(40px); }
            100% { opacity: 1; transform: translateY(0); }
        }

    </style>
</head>
<body>

    <!-- Tahap 0: Lock Stage (Login) -->
    <div id="lockStage" class="fixed inset-0 flex flex-col items-center justify-center bg-pink-200 z-[110] p-4 transition-all duration-700">
        <div class="pixel-border p-6 md:p-10 text-center max-w-xs w-full bg-white">
            <h2 class="pixel-font text-[10px] text-pink-500 mb-6 uppercase">Verify Identity</h2>
            <p class="text-slate-500 mb-4 text-lg">Enter your birth date:</p>
            
            <div class="flex gap-2 mb-2">
                <input type="number" id="inputDay" placeholder="Day (16)" class="pixel-input text-center" min="1" max="31">
                <select id="inputMonth" class="pixel-input text-center">
                    <option value="">Month</option>
                    <option value="january">January</option>
                    <option value="february">February</option>
                    <option value="march">March</option>
                    <option value="april">April</option>
                    <option value="may">May</option>
                    <option value="june">June</option>
                    <option value="july">July</option>
                    <option value="august">August</option>
                    <option value="september">September</option>
                    <option value="october">October</option>
                    <option value="november">November</option>
                    <option value="december">December</option>
                </select>
            </div>
            
            <button onclick="checkBirthday()" class="pixel-btn-action pixel-font text-[8px] uppercase mt-2">Unlock Surprise</button>
            <p id="errorHint" class="mt-4 text-red-500 pixel-font text-[8px] opacity-0 transition-opacity">Wrong Date! Try again.</p>
        </div>
    </div>

    <!-- Tahap 1: Landing (Kotak Kado) -->
    <div id="landing" class="hidden fixed inset-0 flex flex-col items-center justify-center bg-sky-200 z-[100] transition-all duration-700 p-4">
        
        <div class="sunflower top-[10%] left-[5%] md:top-[15%] md:left-[10%]">üåª</div>
        <div class="sunflower bottom-[15%] right-[5%] md:bottom-[20%] md:right-[15%]">üåª</div>
        <div class="rose top-[20%] right-[8%] md:top-[25%] md:right-[12%]">üåπ</div>
        <div class="rose bottom-[10%] left-[10%] md:bottom-[15%] md:left-[18%]">üåπ</div>

        <div class="pixel-border p-8 md:p-12 text-center max-w-sm w-full relative bg-white/80 backdrop-blur-sm">
            <h2 class="pixel-font text-[10px] leading-loose text-pink-500 mb-12 uppercase tracking-tighter">I have a special delivery for you!</h2>
            
            <div class="relative inline-block cursor-pointer group" id="giftTrigger" onclick="startCakeEvent()">
                <div class="gift-container group-hover:scale-110 active:scale-95 transition-transform duration-200">
                    <div id="bowElement" class="gift-bow"></div>
                    <div id="lidElement" class="gift-lid"></div>
                    <div class="gift-box shadow-[8px_8px_0px_#2d3436]"></div>
                </div>
            </div>
            
            <p class="mt-12 pixel-font text-[8px] text-blue-400 animate-pulse tracking-widest uppercase">Tap to Open</p>
        </div>
    </div>

    <!-- Tahap 2: Membangun Kue -->
    <div id="cakeStage" class="hidden fixed inset-0 flex flex-col items-center justify-center transition-opacity duration-1000 p-4">
        <div id="cakeContainer" class="flex flex-col-reverse items-center cursor-pointer group" onclick="showMessage()">
            <div id="l1" class="cake-layer layer-1"></div>
            <div id="l2" class="cake-layer layer-2"></div>
            <div id="l3" class="cake-layer layer-3"></div>
            <div id="candle" class="candle">
                <div id="flame" class="flame"></div>
            </div>
        </div>
        
        <div id="cakeInstruction" class="mt-12 text-center opacity-0 transition-opacity duration-1000">
            <p class="pixel-font text-[10px] text-pink-500 mb-4 uppercase tracking-tighter">Your cake is ready! ‚ú®</p>
            <p class="pixel-font text-[8px] text-slate-400 animate-bounce uppercase">Click the cake to read the message</p>
        </div>
    </div>

    <!-- Tahap 3: Pesan Utama -->
    <div id="messageStage" class="hidden fixed inset-0 flex flex-col items-center justify-start px-4 overflow-y-auto py-20 opacity-0">
        <div class="pixel-border max-w-xl w-full p-6 md:p-12 bg-white relative my-10 h-auto text-center">
            <div class="absolute -top-12 left-1/2 -translate-x-1/2 text-6xl">üéÇ</div>
            <h1 class="pixel-font text-lg md:text-xl text-blue-500 mb-8 uppercase tracking-tighter">Happy Birthday, Love! ‚ù§Ô∏è</h1>
            
            <div id="fullMessage" class="text-xl md:text-3xl text-slate-700 tracking-wider uppercase leading-relaxed break-words">
                Selamat ulang tahun bebbz, maaf tak bisa ngasih kue nya langsung karna tudey aku ga liburrr. semoga kamu dikasih kelimpahan rezeki lagi, diberikan kesehatan, terus diberikan keberuntungan lebih banyak lagi di kehidupan kamu ya bebbb, Aamiin. semangat yaa semester terakhir kuliahnya inii, semoga skripsi lancar, dan dimudahkan lagi buat nyelesaiin kewajiban kamu kedepannya. love uu
            </div>
            
            <div id="finalNote" class="mt-8 pt-6 border-t-2 border-dashed border-slate-200 text-center">
                <p class="pixel-font text-[10px] text-pink-500 uppercase tracking-tighter italic">Forever yours ‚ù§Ô∏è</p>
            </div>
        </div>
        
        <button onclick="location.reload()" class="my-8 pixel-font text-[8px] text-slate-400 hover:text-pink-500 transition uppercase tracking-widest shrink-0">Restart Story?</button>
    </div>

    <script>
        window.addEventListener('mousedown', function(e) {
            const spark = document.createElement('div');
            spark.className = 'click-spark';
            spark.style.left = e.clientX + 'px';
            spark.style.top = e.clientY + 'px';
            document.body.appendChild(spark);
            
            setTimeout(() => {
                spark.remove();
            }, 400);
        });

        function checkBirthday() {
            const day = document.getElementById('inputDay').value;
            const month = document.getElementById('inputMonth').value;
            const errorHint = document.getElementById('errorHint');
            const lockStage = document.getElementById('lockStage');
            const landing = document.getElementById('landing');

            if (day === '16' && month === 'february') {
                lockStage.style.opacity = '0';
                setTimeout(() => {
                    lockStage.classList.add('hidden');
                    landing.classList.remove('hidden');
                    // Reset opacity for landing because it might be 0 from transition
                    landing.style.opacity = '1';
                }, 700);
            } else {
                errorHint.style.opacity = '1';
                setTimeout(() => { errorHint.style.opacity = '0'; }, 2000);
            }
        }

        function startCakeEvent() {
            const landing = document.getElementById('landing');
            const cakeStage = document.getElementById('cakeStage');
            const bow = document.getElementById('bowElement');
            const lid = document.getElementById('lidElement');
            
            bow.classList.add('bow-fly');
            lid.classList.add('lid-open');

            setTimeout(() => {
                landing.style.opacity = '0';
                setTimeout(() => {
                    landing.classList.add('hidden');
                    cakeStage.classList.remove('hidden');
                    cakeStage.style.opacity = '1';
                    
                    setTimeout(() => { document.getElementById('l1').style.height = '60px'; }, 300);
                    setTimeout(() => { document.getElementById('l2').style.height = '50px'; }, 1100);
                    setTimeout(() => { document.getElementById('l3').style.height = '40px'; }, 1900);
                    
                    setTimeout(() => { document.getElementById('candle').style.height = '25px'; }, 2700);
                    setTimeout(() => { 
                        document.getElementById('flame').style.display = 'block';
                        document.getElementById('cakeInstruction').style.opacity = '1';
                        initPixelHearts();
                    }, 3300);
                    
                }, 700);
            }, 600);
        }

        function showMessage() {
            const cakeStage = document.getElementById('cakeStage');
            const messageStage = document.getElementById('messageStage');
            
            cakeStage.style.opacity = '0';
            setTimeout(() => {
                cakeStage.classList.add('hidden');
                messageStage.classList.remove('hidden');
                messageStage.classList.add('message-fade-in');
            }, 500);
        }

        function createPixelHeart() {
            const h = document.createElement('div');
            h.classList.add('pixel-heart');
            const icons = ['‚ù§Ô∏è', '‚ú®', 'üåª', 'üåπ', 'üíñ'];
            h.innerHTML = icons[Math.floor(Math.random() * icons.length)];
            h.style.left = Math.random() * 100 + 'vw';
            h.style.animationDuration = (Math.random() * 2 + 4) + 's';
            document.body.appendChild(h);
            setTimeout(() => h.remove(), 5000);
        }

        function initPixelHearts() {
            setInterval(createPixelHeart, 800);
        }
    </script>
</body>
</html>
